@model Writer
@{
	ViewData["Title"] = "WriterEditProfile";
	Layout = "~/Views/Shared/WriterLayout.cshtml";
}

@using (Html.BeginForm("WriterEditProfile", "Writer", FormMethod.Post, new { id = "editProfileForm", enctype = "multipart/form-data" }))
{
	<div class="col-12 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<h4 class="card-title">Yazar Profil Bilgileri Düzenleme</h4>
				<br />
				@Html.HiddenFor(x => x.WriterID)
				@Html.HiddenFor(x => x.WriterStatus)
				@Html.HiddenFor(x=>x.WriterImage)

				<div class="form-group">
					<label for="exampleInputName1">Yazar Ad Soyad</label>
					@Html.TextBoxFor(x => x.WriterName, new { @class = "form-control" })
					@Html.ValidationMessageFor(x => x.WriterName, "", new { @class = "text-danger" })
				</div>

				<div class="form-group">
					<label for="exampleInputEmail3">Mail adresi</label>
					@Html.TextBoxFor(x => x.WriterMail, new { @class = "form-control" })
					@Html.ValidationMessageFor(x => x.WriterMail, "", new { @class = "text-danger" })
				</div>

				<div class="form-group">
					<label for="exampleInputPassword4">Şifre</label>
					@Html.PasswordFor(x => x.WriterPassword, new { @class = "form-control", id = "password" })
					@Html.ValidationMessageFor(x => x.WriterPassword, "", new { @class = "text-danger" })
				</div>

				<div class="form-group">
					<label for="exampleInputPassword4">Şifre Tekrar</label>
					<input type="password" class="form-control" id="passwordConfirm" placeholder="Şifreyi tekrar giriniz">
					<span id="passwordError" class="text-danger" style="display: none;">Şifreler uyuşmuyor!</span>
				</div>

				<div class="form-group">
					<label>Yazar Profil Görseli</label>
					<input id="fileInput" type="file" name="file" class="file-upload-default">
					<div class="input-group col-xs-12">
						<input id="imageLabel" type="text" class="form-control file-upload-info" disabled placeholder="Upload Image">
						<span class="input-group-append">
							<button id="uploadBtn" class="file-upload-browse btn btn-gradient-primary" type="button">Resim Seç</button>
						</span>
					</div>
				</div>
				<div class="form-group">
					<label for="exampleTextarea1">Yazar Hakkında</label>
					@Html.TextAreaFor(x => x.WriterAbout, 25, 3, new { @class = "form-control" })
					@Html.ValidationMessageFor(x => x.WriterAbout)
				</div>
				<button type="submit" class="btn btn-gradient-primary mr-2">Güncelle</button>
				<button class="btn btn-light">İptal</button>
			</div>
		</div>
	</div>
}

<script>
	document.addEventListener("DOMContentLoaded", function() {
		var form = document.getElementById("editProfileForm");

		form.addEventListener("submit", function(event) {
			// Şifre ve şifre tekrar alanlarının değerlerini alıyoruz
			var password = document.getElementById("password").value;
			var passwordConfirm = document.getElementById("passwordConfirm").value;

			// Eğer şifreler uyuşmuyorsa formun gönderilmesini durduruyoruz
			if (password !== passwordConfirm) {
				event.preventDefault(); // Form gönderimini iptal eder
				document.getElementById("passwordError").style.display = "block";
			} else {
				// Eşleşiyorsa hata mesajını gizleyip formu gönderiyoruz
				document.getElementById("passwordError").style.display = "none";
			}
		});
	});
</script>


</script>

